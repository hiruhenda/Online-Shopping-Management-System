/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: jetty/9.4.53.v20231009
 * Generated at: 2026-01-16 03:36:09 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.List;
import com.mycompany.onlineshoppingcart.model.Product;
import com.mycompany.onlineshoppingcart.model.User;
import java.math.BigDecimal;

public final class products_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.HashSet<>();
    _jspx_imports_packages.add("javax.servlet");
    _jspx_imports_packages.add("javax.servlet.http");
    _jspx_imports_packages.add("javax.servlet.jsp");
    _jspx_imports_classes = new java.util.HashSet<>();
    _jspx_imports_classes.add("java.math.BigDecimal");
    _jspx_imports_classes.add("java.util.List");
    _jspx_imports_classes.add("com.mycompany.onlineshoppingcart.model.User");
    _jspx_imports_classes.add("com.mycompany.onlineshoppingcart.model.Product");
  }

  private volatile javax.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public javax.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
      throws java.io.IOException, javax.servlet.ServletException {

    final java.lang.String _jspx_method = request.getMethod();
    if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method) && !javax.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
      return;
    }

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

    List<Product> products = (List<Product>) request.getAttribute("products");
    List<Product> allProducts = (List<Product>) request.getAttribute("allProducts");
    List<String> categories = (List<String>) request.getAttribute("categories");
    String selectedCategory = (String) request.getAttribute("selectedCategory");
    if (selectedCategory == null) selectedCategory = "all";
    if (allProducts == null) allProducts = products;
    User user = (User) session.getAttribute("user");

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("<head>\r\n");
      out.write("    <meta charset=\"UTF-8\">\r\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n");
      out.write("    <title>Your Fashions - Fashion Store</title>\r\n");
      out.write("    <!-- Google Fonts -->\r\n");
      out.write("    <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\r\n");
      out.write("    <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\r\n");
      out.write("    <link href=\"https://fonts.googleapis.com/css2?family=Belleza&family=Tinos:ital,wght@0,400;0,700;1,400&family=Smooch+Sans:wght@100..1000&display=swap\" rel=\"stylesheet\">\r\n");
      out.write("    <link rel=\"stylesheet\" type=\"text/css\" href=\"css/style.css\">\r\n");
      out.write("    <link rel=\"stylesheet\" type=\"text/css\" href=\"css/products.css\">\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("    ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "header.jsp", out, false);
      out.write("\r\n");
      out.write("    \r\n");
      out.write("    <div class=\"products-page\">\r\n");
      out.write("        <!-- Banner Section -->\r\n");
      out.write("        <div class=\"products-banner\">\r\n");
      out.write("            <div class=\"banner-overlay\"></div>\r\n");
      out.write("            <div class=\"banner-content\">\r\n");
      out.write("                <h1 class=\"banner-title\">Your Fashions</h1>\r\n");
      out.write("                <p class=\"banner-subtitle\">Discover your unique style</p>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        \r\n");
      out.write("        <div class=\"container\">\r\n");
      out.write("            <div class=\"products-layout\">\r\n");
      out.write("                <!-- Sidebar Filters -->\r\n");
      out.write("                <aside class=\"products-sidebar\">\r\n");
      out.write("                    <div class=\"filter-section\">\r\n");
      out.write("                        <h2 class=\"filter-title\">Categories</h2>\r\n");
      out.write("                        <div class=\"filter-list\">\r\n");
      out.write("                            <a href=\"products\" class=\"filter-item ");
      out.print( "all".equals(selectedCategory) ? "active" : "" );
      out.write("\" data-category=\"all\">\r\n");
      out.write("                                <span class=\"filter-icon\">\r\n");
      out.write("                                    <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n");
      out.write("                                        <path d=\"M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                        <path d=\"M9 22V12H15V22\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                    </svg>\r\n");
      out.write("                                </span>\r\n");
      out.write("                                <span>All Products</span>\r\n");
      out.write("                                <span class=\"filter-count\" id=\"count-all\">");
      out.print( allProducts != null ? allProducts.size() : 0 );
      out.write("</span>\r\n");
      out.write("                            </a>\r\n");
      out.write("                            ");

                                if (categories != null) {
                                    for (String category : categories) {
                                        int categoryCount = 0;
                                        if (allProducts != null) {
                                            for (Product p : allProducts) {
                                                if (category.equals(p.getCategory())) {
                                                    categoryCount++;
                                                }
                                            }
                                        }
                                        String categoryName = category.substring(0, 1).toUpperCase() + category.substring(1);
                            
      out.write("\r\n");
      out.write("                            <a href=\"products?category=");
      out.print( category );
      out.write("\" class=\"filter-item ");
      out.print( category.equals(selectedCategory) ? "active" : "" );
      out.write("\" data-category=\"");
      out.print( category );
      out.write("\">\r\n");
      out.write("                                <span class=\"filter-icon\">\r\n");
      out.write("                                    <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n");
      out.write("                                        <path d=\"M21 16V8C21 7.46957 20.7893 6.96086 20.4142 6.58579C20.0391 6.21071 19.5304 6 19 6H5C4.46957 6 3.96086 6.21071 3.58579 6.58579C3.21071 6.96086 3 7.46957 3 8V16C3 16.5304 3.21071 17.0391 3.58579 17.4142C3.96086 17.7893 4.46957 18 5 18H19C19.5304 18 20.0391 17.7893 20.4142 17.4142C20.7893 17.0391 21 16.5304 21 16Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                        <path d=\"M3 10H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                    </svg>\r\n");
      out.write("                                </span>\r\n");
      out.write("                                <span>");
      out.print( categoryName );
      out.write("</span>\r\n");
      out.write("                                <span class=\"filter-count\">");
      out.print( categoryCount );
      out.write("</span>\r\n");
      out.write("                            </a>\r\n");
      out.write("                            ");

                                    }
                                }
                            
      out.write("\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </aside>\r\n");
      out.write("                \r\n");
      out.write("                <!-- Products Grid -->\r\n");
      out.write("                <main class=\"products-main\">\r\n");
      out.write("                    <div class=\"products-toolbar\">\r\n");
      out.write("                        <div class=\"products-count\">\r\n");
      out.write("                            <span id=\"products-count-text\">\r\n");
      out.write("                                ");
      out.print( products != null ? products.size() : 0 );
      out.write(" product");
      out.print( (products != null && products.size() != 1) ? "s" : "" );
      out.write(" found\r\n");
      out.write("                            </span>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <div class=\"view-toggle\">\r\n");
      out.write("                            <button class=\"view-btn active\" data-view=\"grid\" aria-label=\"Grid view\">\r\n");
      out.write("                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n");
      out.write("                                    <path d=\"M3 3H10V10H3V3Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                    <path d=\"M14 3H21V10H14V3Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                    <path d=\"M3 14H10V21H3V14Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                    <path d=\"M14 14H21V21H14V14Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                </svg>\r\n");
      out.write("                            </button>\r\n");
      out.write("                            <button class=\"view-btn\" data-view=\"list\" aria-label=\"List view\">\r\n");
      out.write("                                <svg width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n");
      out.write("                                    <path d=\"M3 6H21M3 12H21M3 18H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                </svg>\r\n");
      out.write("                            </button>\r\n");
      out.write("                        </div>\r\n");
      out.write("                    </div>\r\n");
      out.write("                    \r\n");
      out.write("                    <div class=\"products-grid\" id=\"productsGrid\">\r\n");
      out.write("                        ");

                            if (products != null && !products.isEmpty()) {
                                for (Product product : products) {
                                    String imageUrl = product.getImageUrl() != null && !product.getImageUrl().isEmpty() 
                                        ? product.getImageUrl() 
                                        : "https://via.placeholder.com/400x400?text=No+Image";
                                    String categoryName = product.getCategory() != null 
                                        ? product.getCategory().substring(0, 1).toUpperCase() + product.getCategory().substring(1) 
                                        : "Fashion";
                        
      out.write("\r\n");
      out.write("                        <div class=\"product-card\" data-category=\"");
      out.print( product.getCategory() != null ? product.getCategory() : "" );
      out.write("\">\r\n");
      out.write("                            <div class=\"product-image-wrapper\">\r\n");
      out.write("                                <a href=\"products?action=details&id=");
      out.print( product.getId() );
      out.write("\" class=\"product-image-link\">\r\n");
      out.write("                                    <img src=\"");
      out.print( imageUrl );
      out.write("\" alt=\"");
      out.print( product.getName() );
      out.write("\" class=\"product-image\">\r\n");
      out.write("                                </a>\r\n");
      out.write("                                <div class=\"product-overlay\">\r\n");
      out.write("                                    <a href=\"products?action=details&id=");
      out.print( product.getId() );
      out.write("\" class=\"product-action-btn quick-view-btn\">\r\n");
      out.write("                                        <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n");
      out.write("                                            <path d=\"M1 12C1 12 5 4 12 4C19 4 23 12 23 12C23 12 19 20 12 20C5 20 1 12 1 12Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                            <path d=\"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                        </svg>\r\n");
      out.write("                                        Quick View\r\n");
      out.write("                                    </a>\r\n");
      out.write("                                    ");

                                        if (user != null) {
                                    
      out.write("\r\n");
      out.write("                                    <form action=\"cart\" method=\"post\" class=\"add-to-cart-form-inline\">\r\n");
      out.write("                                        <input type=\"hidden\" name=\"action\" value=\"add\">\r\n");
      out.write("                                        <input type=\"hidden\" name=\"productId\" value=\"");
      out.print( product.getId() );
      out.write("\">\r\n");
      out.write("                                        <input type=\"hidden\" name=\"quantity\" value=\"1\">\r\n");
      out.write("                                        <button type=\"submit\" class=\"product-action-btn add-to-cart-btn\" onclick=\"event.stopPropagation();\">\r\n");
      out.write("                                            <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n");
      out.write("                                                <path d=\"M3 3H5L5.4 5M7 13H17L21 5H5.4M7 13L5.4 5M7 13L4.7 15.3C4.3 15.7 4.6 16.5 5.1 16.5H19M17 13V17C17 18.1 17.9 19 19 19C20.1 19 21 18.1 21 17V13M9 19.5C9.8 19.5 10.5 20.2 10.5 21C10.5 21.8 9.8 22.5 9 22.5C8.2 22.5 7.5 21.8 7.5 21C7.5 20.2 8.2 19.5 9 19.5ZM20 19.5C20.8 19.5 21.5 20.2 21.5 21C21.5 21.8 20.8 22.5 20 22.5C19.2 22.5 18.5 21.8 18.5 21C18.5 20.2 19.2 19.5 20 19.5Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                            </svg>\r\n");
      out.write("                                            Add to Cart\r\n");
      out.write("                                        </button>\r\n");
      out.write("                                    </form>\r\n");
      out.write("                                    ");

                                        }
                                    
      out.write("\r\n");
      out.write("                                </div>\r\n");
      out.write("                                ");
 if (product.getStock() <= 5 && product.getStock() > 0) { 
      out.write("\r\n");
      out.write("                                <span class=\"product-badge low-stock\">Low Stock</span>\r\n");
      out.write("                                ");
 } else if (product.getStock() == 0) { 
      out.write("\r\n");
      out.write("                                <span class=\"product-badge out-of-stock\">Out of Stock</span>\r\n");
      out.write("                                ");
 } 
      out.write("\r\n");
      out.write("                            </div>\r\n");
      out.write("                            \r\n");
      out.write("                            <div class=\"product-info\">\r\n");
      out.write("                                <p class=\"product-category\">");
      out.print( categoryName );
      out.write("</p>\r\n");
      out.write("                                <h3 class=\"product-name\">\r\n");
      out.write("                                    <a href=\"products?action=details&id=");
      out.print( product.getId() );
      out.write('"');
      out.write('>');
      out.print( product.getName() );
      out.write("</a>\r\n");
      out.write("                                </h3>\r\n");
      out.write("                                <div class=\"product-price-row\">\r\n");
      out.write("                                    <span class=\"product-price\">$");
      out.print( String.format("%.2f", product.getPrice()) );
      out.write("</span>\r\n");
      out.write("                                    ");
 if (product.getStock() > 0) { 
      out.write("\r\n");
      out.write("                                    <span class=\"product-stock\">In Stock</span>\r\n");
      out.write("                                    ");
 } else { 
      out.write("\r\n");
      out.write("                                    <span class=\"product-stock out\">Out of Stock</span>\r\n");
      out.write("                                    ");
 } 
      out.write("\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </div>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        ");

                                }
                            } else {
                        
      out.write("\r\n");
      out.write("                        <div class=\"no-products\">\r\n");
      out.write("                            <div class=\"no-products-icon\">\r\n");
      out.write("                                <svg width=\"64\" height=\"64\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n");
      out.write("                                    <path d=\"M21 16V8C21 7.46957 20.7893 6.96086 20.4142 6.58579C20.0391 6.21071 19.5304 6 19 6H5C4.46957 6 3.96086 6.21071 3.58579 6.58579C3.21071 6.96086 3 7.46957 3 8V16C3 16.5304 3.21071 17.0391 3.58579 17.4142C3.96086 17.7893 4.46957 18 5 18H19C19.5304 18 20.0391 17.7893 20.4142 17.4142C20.7893 17.0391 21 16.5304 21 16Z\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                    <path d=\"M3 10H21\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n");
      out.write("                                </svg>\r\n");
      out.write("                            </div>\r\n");
      out.write("                            <h3>No Products Found</h3>\r\n");
      out.write("                            <p>We couldn't find any products in this category.</p>\r\n");
      out.write("                            <a href=\"products\" class=\"btn-view-all\">View All Products</a>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        ");

                            }
                        
      out.write("\r\n");
      out.write("                    </div>\r\n");
      out.write("                </main>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("    \r\n");
      out.write("    ");
      org.apache.jasper.runtime.JspRuntimeLibrary.include(request, response, "footer.jsp", out, false);
      out.write("\r\n");
      out.write("    \r\n");
      out.write("    <script src=\"js/products.js\"></script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
